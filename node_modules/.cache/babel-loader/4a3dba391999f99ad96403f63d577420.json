{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akif\\\\Desktop\\\\ToDoListFrontEnd\\\\src\\\\components\\\\ToDoItem\\\\ItemDependency.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect, Link } from 'react-router-dom';\n\nclass ItemDependency extends Component {\n  constructor({\n    match\n  }) {\n    super();\n    this.state = {\n      dependencies: [],\n      toDoItems: [],\n      list_id: match.params.list_id,\n      item_id: match.params.item_id\n    };\n    this.addDependency = this.addDependency.bind(this);\n    this.deleteDependency = this.deleteDependency.bind(this);\n    this.markItem = this.markItem.bind(this);\n  }\n\n  componentWillMount() {\n    axios.post(\"http://localhost:8080/todolist/todoitem/showdependencies\", {\n      token: localStorage.getItem('token'),\n      todo_item_id: this.state.item_id\n    }).then(response => {\n      if (response.data.result) {\n        this.setState({\n          dependencies: response.data.not_dependent_items\n        });\n      } else {\n        alert(response.data.message);\n      }\n    });\n    axios.post(\"http://localhost:8080/todolist/todoitem/alldepencenciesitem\", {\n      token: localStorage.getItem('token'),\n      todo_item_id: this.state.item_id\n    }).then(response => {\n      if (response.data.result) {\n        this.setState({\n          toDoItems: response.data.toDoItems\n        });\n        document.getElementById(\"list_name\").innerHTML = response.data.list_name;\n      }\n    });\n  }\n\n  deleteItem(item_id) {\n    axios.post(\"http://localhost:8080/todolist/todoitem/deleteitem\", {\n      token: localStorage.getItem('token'),\n      id: item_id\n    }).then(response => {\n      if (response.data.result) {\n        window.location.reload();\n      } else {\n        alert(response.data.message);\n      }\n    });\n  }\n\n  markItem(item_id) {\n    axios.post(\"http://localhost:8080/todolist/todoitem/markcompleted\", {\n      token: localStorage.getItem('token'),\n      todo_item_id: item_id\n    }).then(response => {\n      window.location.reload();\n    });\n  }\n\n  addDependency(item_id) {\n    axios.post(\"http://localhost:8080/todolist/todoitem/adddependency\", {\n      token: localStorage.getItem('token'),\n      still_waiting_id: this.state.item_id,\n      to_to_completed_id: item_id\n    }).then(response => {\n      if (response.data.result) {\n        window.location.reload();\n      } else {\n        alert(response.data.message);\n      }\n    });\n  }\n\n  render() {\n    let dependencies = this.state.dependencies.map(dependency => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, dependency.id), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, dependency.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, dependency.description), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, dependency.created_date), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, dependency.updated_date), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, dependency.deadline), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, dependency.status_id == 1 ? React.createElement(\"label\", {\n        style: {\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Completed\") : React.createElement(\"label\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Not Completed\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => this.addDependency(dependency.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Add Dependency\")));\n    });\n    let toDoItems = this.state.toDoItems.map(toDoItem => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, toDoItem.id), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, toDoItem.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, toDoItem.description), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, toDoItem.created_date), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, toDoItem.updated_date), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, toDoItem.deadline), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, toDoItem.status_id == 1 ? React.createElement(\"label\", {\n        style: {\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Completed\") : React.createElement(\"label\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Not Completed\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => this.markItem(toDoItem.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"far fa-check-square\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), \"\\xA0\", React.createElement(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => this.deleteDependency(list.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }))));\n    });\n\n    if (!localStorage.getItem('token')) {\n      return React.createElement(Redirect, {\n        to: '/',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"list_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Create new item.\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      onChange: this.onChange,\n      className: \"form-control\",\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-5 col-lg-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"description\",\n      name: \"description\",\n      onChange: this.onChange,\n      className: \"form-control\",\n      placeholder: \"Description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-2 col-lg-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"date\",\n      id: \"deadline\",\n      name: \"deadline\",\n      onChange: this.onChange,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col-md-2 col-lg-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      value: \"Add a list item\",\n      onClick: this.createItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Item's can be added dependency items \"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"List Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Created Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Updated Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Deadline\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, dependencies))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Item's dependency items \"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"List Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Created Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Updated Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Deadline\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, toDoItems))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ItemDependency;","map":{"version":3,"sources":["C:\\Users\\akif\\Desktop\\ToDoListFrontEnd\\src\\components\\ToDoItem\\ItemDependency.js"],"names":["React","Component","axios","Redirect","Link","ItemDependency","constructor","match","state","dependencies","toDoItems","list_id","params","item_id","addDependency","bind","deleteDependency","markItem","componentWillMount","post","token","localStorage","getItem","todo_item_id","then","response","data","result","setState","not_dependent_items","alert","message","document","getElementById","innerHTML","list_name","deleteItem","id","window","location","reload","still_waiting_id","to_to_completed_id","render","map","dependency","name","description","created_date","updated_date","deadline","status_id","color","toDoItem","list","onChange","createItem"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport axios from 'axios'\r\nimport {Redirect,Link} from 'react-router-dom';\r\n\r\nclass ItemDependency extends Component{\r\n\r\n    constructor({match}){\r\n\r\n        super();\r\n\r\n        this.state = {\r\n            dependencies: [],\r\n            toDoItems: [],\r\n            list_id: match.params.list_id,\r\n            item_id: match.params.item_id\r\n        }\r\n        \r\n        this.addDependency = this.addDependency.bind(this);\r\n        this.deleteDependency = this.deleteDependency.bind(this);\r\n        this.markItem = this.markItem.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        axios.post(\"http://localhost:8080/todolist/todoitem/showdependencies\",{\r\n            token: localStorage.getItem('token'),\r\n            todo_item_id: this.state.item_id\r\n        }).then((response) => {\r\n            if(response.data.result){\r\n                this.setState({\r\n                    dependencies: response.data.not_dependent_items\r\n                })\r\n            }\r\n            else{\r\n                alert(response.data.message);\r\n            }\r\n        });\r\n\r\n        axios.post(\"http://localhost:8080/todolist/todoitem/alldepencenciesitem\",{\r\n            token: localStorage.getItem('token'),\r\n            todo_item_id: this.state.item_id\r\n        }).then((response) => {\r\n            if(response.data.result){\r\n                this.setState({\r\n                    toDoItems: response.data.toDoItems\r\n                })\r\n                document.getElementById(\"list_name\").innerHTML = response.data.list_name;\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    deleteItem(item_id){\r\n        axios.post(\"http://localhost:8080/todolist/todoitem/deleteitem\",{\r\n          token: localStorage.getItem('token'),\r\n          id: item_id\r\n        }).then((response) => {\r\n          if(response.data.result){\r\n            window.location.reload();\r\n          }\r\n          else{\r\n            alert(response.data.message);\r\n          }\r\n        })\r\n      }\r\n  \r\n\r\n    markItem(item_id){\r\n      \r\n        axios.post(\"http://localhost:8080/todolist/todoitem/markcompleted\",{\r\n          token: localStorage.getItem('token'),\r\n          todo_item_id: item_id\r\n        }).then((response) => {\r\n          window.location.reload();\r\n        });\r\n      }\r\n\r\n    addDependency(item_id){\r\n        \r\n        axios.post(\"http://localhost:8080/todolist/todoitem/adddependency\",{\r\n            token: localStorage.getItem('token'),\r\n            still_waiting_id: this.state.item_id,\r\n            to_to_completed_id: item_id\r\n        }).then((response) => {\r\n\r\n            if(response.data.result){\r\n                window.location.reload();\r\n            }\r\n            else{\r\n                alert(response.data.message);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    render(){\r\n        \r\n        let dependencies = this.state.dependencies.map((dependency) => {\r\n            return(\r\n              <tr>\r\n                <td>{dependency.id}</td>\r\n                <td>{dependency.name}</td>\r\n                <td>{dependency.description}</td>\r\n                <td>{dependency.created_date}</td>\r\n                <td>{dependency.updated_date}</td>\r\n                <td>{dependency.deadline}</td>\r\n                <td>{dependency.status_id == 1 ?  <label style={{color: 'green'}}>Completed</label> : <label style={{color: 'red'}}>Not Completed</label>}</td>\r\n                <td>\r\n                    <button className=\"btn btn-success\" onClick={() => this.addDependency(dependency.id)}>Add Dependency</button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          });\r\n\r\n          let toDoItems = this.state.toDoItems.map((toDoItem) => {\r\n            return(\r\n              <tr>\r\n                <td>{toDoItem.id}</td>\r\n                <td>{toDoItem.name}</td>\r\n                <td>{toDoItem.description}</td>\r\n                <td>{toDoItem.created_date}</td>\r\n                <td>{toDoItem.updated_date}</td>\r\n                <td>{toDoItem.deadline}</td>\r\n                <td>{toDoItem.status_id == 1 ?  <label style={{color: 'green'}}>Completed</label> : <label style={{color: 'red'}}>Not Completed</label>}</td>\r\n                <td>\r\n                            \r\n                    <button className=\"btn btn-success\" onClick={() => this.markItem(toDoItem.id)}>\r\n                        <i class=\"far fa-check-square\"></i>\r\n                    </button>\r\n                    &nbsp;\r\n                    <button className=\"btn btn-danger\" onClick={() => this.deleteDependency(list.id)}>\r\n                        <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          });\r\n\r\n    \r\n          if(!localStorage.getItem('token')){\r\n            return (<Redirect to={'/'}/>)\r\n          }\r\n    \r\n          return(\r\n            <div className=\"container-fluid\">\r\n            <h2 id=\"list_name\"></h2>\r\n            <label>Create new item.</label>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-3 col-lg-3\">\r\n                    <input type=\"text\" id=\"name\" name=\"name\" onChange={this.onChange} className=\"form-control\" placeholder=\"Name\"/>\r\n                  </div>\r\n                  <div className=\"col-md-5 col-lg-5\">\r\n                    <input type=\"text\" id=\"description\" name=\"description\" onChange={this.onChange} className=\"form-control\" placeholder=\"Description\"/>\r\n                  </div>\r\n                  <div className=\"col-md-2 col-lg-2\">\r\n                    <input type=\"date\" id=\"deadline\" name=\"deadline\" onChange={this.onChange} className=\"form-control\"/>\r\n                  </div>\r\n                  <div class=\"col-md-2 col-lg-2\">\r\n                    <input type=\"button\" className=\"btn btn-success\" value=\"Add a list item\" onClick={this.createItem}/>\r\n                  </div>\r\n                </div>\r\n                <br/>\r\n                <hr />\r\n                    <h3>Item's can be added dependency items </h3>\r\n                <hr/>\r\n                <div className=\"row\">\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>List Name</th>\r\n                            <th>Description</th>\r\n                            <th>Created Date</th>\r\n                            <th>Updated Date</th>\r\n                            <th>Deadline</th>\r\n                            <th>Status</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {dependencies}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <hr />\r\n                    <h3>Item's dependency items </h3>\r\n                <hr/>\r\n                <div className=\"row\">\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>List Name</th>\r\n                            <th>Description</th>\r\n                            <th>Created Date</th>\r\n                            <th>Updated Date</th>\r\n                            <th>Deadline</th>\r\n                            <th>Status</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {toDoItems}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <br/><br/>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default ItemDependency"]},"metadata":{},"sourceType":"module"}